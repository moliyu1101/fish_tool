!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.QQMailSdkTool=t():n.QQMailSdkTool=t()}(self,(function(){return function(){"use strict";var n,t,i,e={d:function(n,t){for(var i in t)e.o(t,i)&&!e.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:t[i]})},o:function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r:function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},o={};e.r(o),e.d(o,{default:function(){return u},deleteCookie:function(){return x}}),function(n){n[n.embed=1]="embed",n[n.popup=2]="popup",n[n.mobile=3]="mobile"}(n||(n={})),function(n){n[n.login=1]="login",n[n.verify=2]="verify"}(t||(t={})),function(n){n[n.landscape=1]="landscape",n[n.vertical=2]="vertical"}(i||(i={}));var a,l,s,r,c,d="scene",m="102013353";!function(n){n.QQmail="002e8cd102c47415",n.Foxmail="002e8cd118037e60",n.WeWork="002e8cd13a11f488",n.WeWork_Calendar="002e8cd14921465f"}(a||(a={})),function(n){n[n.wx_oauth=1]="wx_oauth",n[n.ptlogin=3]="ptlogin",n[n.connect_oauth=5]="connect_oauth",n[n.exchange_ticket=6]="exchange_ticket",n[n.connect=7]="connect",n[n.only_connect_login=8]="only_connect_login",n[n.connect_sec_pwd=9]="connect_sec_pwd"}(l||(l={})),function(n){n[n.INDEX=1]="INDEX",n[n.NONE=2]="NONE",n[n.REDIRECT=3]="REDIRECT",n[n.FTN=4]="FTN",n[n.WEBMAIL=5]="WEBMAIL",n[n.OPENMAIL=6]="OPENMAIL",n[n.WX_PUBLIC=7]="WX_PUBLIC",n[n.WRITE_MAIL=8]="WRITE_MAIL",n[n.READ_MAIL=9]="READ_MAIL",n[n.WRITE_GROUPMAIL=10]="WRITE_GROUPMAIL",n[n.WWAUTH=11]="WWAUTH",n[n.SAFE_INDEX=12]="SAFE_INDEX",n[n.DEL_MAIL=13]="DEL_MAIL"}(s||(s={})),function(n){n.GET="get",n.POST="post",n.REDIRECT="redirect"}(r||(r={})),function(n){n.SELF="self",n.PARENT="parent",n.TOP="top"}(c||(c={}));var g={cn:{wechatTabTitle:"微信登录",qqTabTitle:"QQ登录",autoLoginButton:"下次自动登录"},en:{wechatTabTitle:"Login via Wechat",qqTabTitle:"Login via QQ",autoLoginButton:"Remember Me"}},h=0,p="KEY_FOR_BLACKLIST",_="blacklist",u=function(){function e(o,a){void 0===a&&(a=!1);try{if(this.initParams=o,!e.checkUseConnect(this.initParams.scene===t.login,o)&&!a)return;if(!this.initParams.triggerID)throw new Error("triggerID can not be undefined!!!");if(this.initParams.type===n.mobile)return void this.mobileInit();this.containerID=this.initParams.type===n.popup?"".concat("C_QQ_L_").concat(h++):this.initParams.triggerID,this.maskID="mask_".concat(this.containerID,"_").concat(y(2)),this.dialogID="dialog_".concat(this.containerID,"_").concat(y(2)),this.initParams.lang||(this.initParams.lang="cn"),this.textLabelMap=g[this.initParams.lang],!this.initParams.layout&&(this.initParams.layout=this.initParams.scene===t.login?i.vertical:i.landscape),this.initParams.wxStyleLink||(this.initParams.layout===i.vertical?this.initParams.wxStyleLink="https://rescdn.qqmail.com/qqmail/assets/iframe_wx_connect_new_2024070101.css":this.initParams.wxStyleLink="https://rescdn.qqmail.com/qqmail/assets/iframe_wx_connect_new_landscape_240704.css"),!1!==this.initParams.showLoginTab&&(this.initParams.showLoginTab=!0),this.initParams.layout===i.landscape?(!this.initParams.width&&(this.initParams.width=700),!this.initParams.height&&(this.initParams.height=400-47*(this.initParams.showLoginTab?0:1))):this.initParams.layout===i.vertical&&(this.initParams.width=368),!this.initParams.dialogTitle&&(this.initParams.dialogTitle=""),this.verifyInit(),this.connectURL=this.generateQQContectUrl(),this.wxSrcURL=this.generateWXSrcUrl(),this.init()}catch(n){}}return e.checkUseConnect=function(n,t){void 0===n&&(n=!1),void 0===t&&(t={});try{var i=localStorage.getItem(p);return i!==_&&(n&&i!==_&&function(){if(window.location.href.indexOf("lang=en")>-1||window.isEnVer)return!0;try{if(window.parent.location.href.indexOf("lang=en")>-1||window.parent.isEnVer)return!0}catch(n){return!1}return!1}()&&(i=_,localStorage.setItem(p,_)),i!==_)}catch(n){return!1}},e.tdw=function(n){},e.prototype.refreshUI=function(){this.destroy(),this.initParams.type!==n.mobile?(this.verifyInit(),this.init()):this.mobileInit()},e.prototype.dismiss=function(){var n=document.getElementById(this.dialogID);n&&(n.style.visibility="hidden");var t=document.getElementById(this.maskID);t&&(t.style.display="none")},e.prototype.display=function(){document.getElementById(this.dialogID).style.visibility="visible",document.getElementById(this.maskID).style.display=""},e.prototype.destroy=function(){var n=document.getElementById(this.dialogID);document.body.removeChild(n);var t=document.getElementById(this.maskID);document.body.removeChild(t),this.removeStyleTag()},e.prototype.mobileInit=function(){var i=this;if(this.initParams.type===n.mobile){var e=function(){document.getElementById(i.initParams.triggerID).onclick=function(){var n=encodeURIComponent("https://wap.mail.qq.com/login/login?auth_type=".concat(l.connect,"&").concat(i.generateLoginParams())),e=window;if(i.initParams.scene===t.login)switch(i.initParams.redirect_action){case c.PARENT:e=window.parent;break;case c.TOP:e=window.top}e.location="https://graph.qq.com/oauth2.0/authorize?client_id=".concat(m,"&display=mobile&response_type=code&state=STATE&which=Login&redirect_uri=").concat(n)}};"complete"===document.readyState||"interactive"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)}},e.prototype.verifyInit=function(){if(this.initParams.scene===t.verify){if(!this.initParams.clientId&&(this.initParams.clientId=a.QQmail),!1!==this.initParams.needQQMailOauth&&(this.initParams.needQQMailOauth=!0),!this.initParams.return_action&&(this.initParams.return_action=c.PARENT),!this.initParams.return_origin&&(this.initParams.return_origin="*"),this.initParams.method!==r.REDIRECT&&!this.initParams.retCB)throw Error("retCB must not be undefine, when use Get or Post");var n=this.initParams.retCB;window.addEventListener("message",(function(t){var i;"https://wx.mail.qq.com"===(t.origin||"*")&&"oauth_event"===(null===(i=t.data)||void 0===i?void 0:i.event)&&(null==n||n(t.data.response))}))}},e.prototype.init=function(){var t;this.initParams.type===n.popup?t=this.initWithPopup():this.initParams.type===n.embed&&(t=this.initWithEmbed()),t&&("complete"===document.readyState||"interactive"===document.readyState?t():document.addEventListener("DOMContentLoaded",t))},e.prototype.initWithPopup=function(){var n=this;return document.getElementById(this.initParams.triggerID).onclick=function(){document.getElementById(n.dialogID).style.visibility="visible",document.getElementById(n.maskID).style.display=""},function(){var t=document.createElement("div");t.id=n.maskID,t.className="QQMailSdkTool_mask",t.style.display="none",document.body.appendChild(t);var i=document.createElement("div");i.id=n.dialogID;var e=n.initParams.height+41;i.style.width="".concat(n.initParams.width,"px"),i.style.height="".concat(e,"px"),i.style.position="fixed",i.style.left="calc(50% - ".concat(n.initParams.width/2,"px)"),i.style.top="calc(50% - ".concat(e/2,"px)"),i.style.visibility="hidden",i.style.zIndex="1000",i.style.backgroundColor="white",i.style.borderRadius="5px",document.body.appendChild(i);var o=document.createElement("div"),a="QQMailSdkTool_icons_Close_".concat(y(2));o.innerHTML='\n        <div class="QQMailSdkTool_dialog_header">\n          <span class="QQMailSdkTool_dialog_header_title">'.concat(n.initParams.dialogTitle,'</span>\n          <img title="关闭" id="').concat(a,'" class="QQMailSdkTool_icons_Close" src="https://rescdn.qqmail.com/qqmail/images/QQMailSdkTool_icons_Close.png"></img>\n        </div>\n      '),i.appendChild(o),document.getElementById(a).onclick=function(){n.dismiss(),n.destroy()};var l=document.createElement("div");l.id=n.containerID,l.style.width="".concat(n.initParams.width,"px"),l.style.height="".concat(n.initParams.height,"px"),l.style.overflow="hidden",i.appendChild(l),n.insertStyle(),n.insertHtml(),n.bindingEvent(),n.initStatus()}},e.prototype.initWithEmbed=function(){var n=this;return function(){if(n.initParams.layout===i.landscape){var t=document.getElementById(n.containerID);if(!t)throw new Error("initWithEmbed: the element of containerId is null");t.style.width="".concat(n.initParams.width,"px")}n.insertStyle(),n.insertHtml(),n.bindingEvent(),n.initStatus()}},e.prototype.insertStyle=function(){var t=document.createElement("style");t.id="".concat(this.dialogID,"_style"),t.type="text/css",t.innerHTML="\n      .QQMailSdkTool_login_loginBox {\n        border: 1px solid #a0b1c4;\n        border-radius: 5px;\n        box-sizing: border-box;\n        overflow: hidden;\n        width: ".concat(this.initParams.width,"px;\n        background: white;\n      }\n      .QQMailSdkTool_login_loginBox_tab {\n        -webkit-text-size-adjust: none;\n        color: #2e3033;\n        font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,sans-serif;\n        line-height: 1.5;\n        background-color: #f9fbfe;\n        border-bottom: 1px solid #c0cdd9;\n        border-radius: 5px 5px 0 0;\n        font-size: 0;\n        height: 50px;\n      }\n      .QQMailSdkTool_login_loginBox_tab_item {\n        -webkit-text-size-adjust: none;\n        font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,sans-serif;\n        color: #959da6;\n        cursor: pointer;\n        display: inline-block;\n        font-size: 16px;\n        line-height: 50px;\n        text-align: center;\n        width: 50%;\n      }\n      .QQMailSdkTool_login_loginBox_tab_item_Active {\n        color: #2e3033;\n      }\n      .QQMailSdkTool_login_loginBox_body {\n        -webkit-text-size-adjust: none;\n        color: #2e3033;\n        font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,sans-serif;\n        font-size: 14px;\n        line-height: 1.5;\n        height: 477px;\n        position: relative;\n        overflow: hidden;\n      }\n      .QQMailSdkTool_login_loginBox_wx {\n        -webkit-text-size-adjust: none;\n        color: #2e3033;\n        font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,sans-serif;\n        font-size: 14px;\n        line-height: 1.5;\n        background-color: #fff;\n        bottom: 0;\n        height: 100%;\n        left: 0;\n        position: absolute;\n        right: 0;\n        top: 0;\n        width: 100%;\n        z-index: 1;\n        height: calc(100% - 1px);\n      }\n      .QQMailSdkTool_login_loginBox_wx_iframe {\n        -webkit-text-size-adjust: none;\n        color: #2e3033;\n        font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,sans-serif;\n        font-size: 14px;\n        line-height: 1.5;\n        border-top-width: 0px;\n        border-right-width: 0px;\n        border-bottom-width: 0px;\n        border-left-width: 0px;\n        bottom: 0;\n        height: 100%;\n        position: absolute;\n        right: 0;\n        top: 0;\n        width: 368px;\n      }\n      .QQMailSdkTool_login_loginBox_qq {\n        -webkit-text-size-adjust: none;\n        color: #2e3033;\n        font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,sans-serif;\n        font-size: 14px;\n        line-height: 1.5;\n        background-color: #fff;\n        bottom: 0;\n        box-sizing: border-box;\n        height: 100%;\n        position: absolute;\n        top: 0;\n        width: 100%;\n        z-index: 10;\n        left: 0px;\n        right: 0px;\n        height: calc(100% -1px);\n      }\n      .QQMailSdkTool_login_loginBox_qq_iframe {\n        -webkit-text-size-adjust: none;\n        color: #2e3033;\n        font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,sans-serif;\n        font-size: 14px;\n        line-height: 1.5;\n        border-top-width: 0px;\n        border-right-width: 0px;\n        border-bottom-width: 0px;\n        border-left-width: 0px;\n        height: 100%;\n        width: 100%;\n      }\n      .QQMailSdkTool_login_loginBox_wx_state {\n        -webkit-text-size-adjust: none;\n        color: #2e3033;\n        font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,sans-serif;\n        font-size: 14px;\n        left: 50%;\n        line-height: 18px;\n        position: absolute;\n        text-align: center;\n        transform: translateX(-50%);\n        width: 100%;\n      }\n      .QQMailSdkTool_login_loginBox_wx_state > p {\n        -webkit-text-size-adjust: none;\n        font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,sans-serif;\n        line-height: 18px;\n        text-align: center;\n        margin: 0;\n        align-items: center;\n        display: block;\n        font-size: 13px;\n        justify-content: center;\n        position: relative;\n        color: rgb(46, 48, 51);\n      }\n      .QQMailSdkTool_login_loginBox_wx_state>p>input[type=checkbox] {\n        -webkit-text-size-adjust: none;\n        outline: none;\n        -webkit-tap-highlight-color: rgba(0,0,0,0);\n        font-size: inherit;\n        color: #000;\n        cursor: pointer;\n        margin: 0 3px 0 0;\n        -webkit-appearance: none;\n        background-color: #fff;\n        border: 1px solid #c8d3de;\n        border-radius: 2px;\n        height: 16px;\n        width: 16px;\n        position: relative;\n        top:3px;\n      }\n      .QQMailSdkTool_login_loginBox_wx_state > p > label {\n        cursor: pointer;\n      }\n      .QQMailSdkTool_login_loginBox_wx > div > span {\n        line-height: 18px;\n        text-align: center;\n        color: #959da6;\n        font-size: 14px;\n      }\n    "),this.initParams.layout===i.landscape?t.innerHTML+="\n        .QQMailSdkTool_login_loginBox {\n          width: 100%;\n          border: none;\n        }\n        .QQMailSdkTool_login_loginBox_wx_iframe {\n          height: calc(100% - 40px);\n        }\n        .QQMailSdkTool_login_loginBox_wx, .QQMailSdkTool_login_loginBox_wx_iframe {\n          bottom: 0;\n          position: absolute;\n          right: 0;top: 0;\n          width: 100%; \n        }\n        .QQMailSdkTool_login_loginBox_tab hr {\n          background-color: #e6e8eb;\n          height: 16px;\n        }\n        .QQMailSdkTool_login_loginBox_tab hr {\n          border: none;\n          display: inline-block;\n          width: 1px;\n        }\n        .QQMailSdkTool_login_loginBox_tab {\n          align-items: center;\n          background-color: transparent;\n          border-bottom: none;\n        }\n        .QQMailSdkTool_login_loginBox_tab {\n          border-radius: 5px 5px 0 0;\n          display: block;\n          font-size: 0;\n          height: 50px;\n        }\n        .QQMailSdkTool_login_loginBox_body {\n          height: 350px;\n          width: 100%;\n        }\n        .QQMailSdkTool_login_loginBox_qq {\n          height: ".concat(397,"px;\n          top: -").concat(47+(this.initParams.showLoginTab?0:1),"px;\n        }\n        "):t.innerHTML+='\n        .QQMailSdkTool_login_loginBox_wx_state>p>input[type=checkbox]:checked {\n          background: #328ffa;\n          border: none;\n        }\n        .QQMailSdkTool_login_loginBox_wx_state>p>input[type=checkbox]:checked:before {\n          background: url(https://secres.wxqcloud.qq.com/t/webmail/webmail/res/static/images/base/style/login/wx_login_box_check.4b98fc4.png) no-repeat 50%;\n          background-size: contain;\n          content: "";\n          display: inline-block;\n          height: 100%;\n          margin-left: 3px;\n          width: 9px;\n        }\n        .QQMailSdkTool_login_hover_text {\n          left: 33px;\n          position: absolute;\n          top: -31px;\n          width: 300px;\n          z-index: 9999;\n        }',this.initParams.showLoginTab||(t.innerHTML+="\n        .QQMailSdkTool_login_loginBox_tab {\n          display: none;\n        }"),this.initParams.type===n.popup&&(t.innerHTML+="\n        .QQMailSdkTool_mask {\n          -webkit-text-size-adjust: none;\n          color: #2e3033;\n          font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,sans-serif;\n          font-size: 13px;\n          line-height: 1.5;\n          background-color: rgba(0,0,0,.5);\n          height: 100%;\n          left: 0;\n          position: fixed;\n          top: 0;\n          width: 100%;\n          z-index: 999;\n          animation: .3s ease 0s 1 normal none running mask-fade-in;\n        }\n        @keyframes mask-fade-in {\n          0% {\n            transform: translate3d(0, -1px, 0);\n            opacity: 0;\n          }\n          100% {\n            transform: translate3d(0, 0, 0);\n            opacity: 1;\n          }\n        }\n        .QQMailSdkTool_dialog_header {\n          -webkit-text-size-adjust: none;\n          color: #2e3033;\n          font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,sans-serif;\n          font-size: 13px;\n          line-height: 1.5;\n          background-color: #f5f6f7;\n          border-bottom: 1px solid #e6e8eb;\n          border-radius: 4px 4px 0 0;\n          height: 40px;\n          padding-left: 20px;\n          padding-right: 60px;\n          position: relative;\n        }\n        .QQMailSdkTool_dialog_header_title {\n          -webkit-text-size-adjust: none;\n          color: #2e3033;\n          font-family: -apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,sans-serif;\n          font-size: 13px;\n          line-height: 40px;\n        }\n        .QQMailSdkTool_icons_Close {\n          width: 24px;\n          height: 24px;\n          position: absolute;\n          top: 9px;\n          right: 20px;\n          cursor: pointer;\n        }\n      "),t.innerHTML+=this.initParams.loginBoxStyle||"",document.head.appendChild(t)},e.prototype.removeStyleTag=function(){var n=document.getElementById("".concat(this.dialogID,"_style"));document.head.removeChild(n)},e.prototype.insertHtml=function(){var n,i;document.getElementById(this.containerID).innerHTML='\n    <div class="QQMailSdkTool_login_loginBox">\n      <div class="QQMailSdkTool_login_loginBox_tab">\n        <div class="QQMailSdkTool_login_loginBox_tab_item" id="QQMailSdkTool_login_loginBox_tab_item_wx">\n        '.concat(this.getTextByKey("wechatTabTitle"),'\n        </div>\n        <div class="QQMailSdkTool_login_loginBox_tab_item QQMailSdkTool_login_loginBox_tab_item_Active" id="QQMailSdkTool_login_loginBox_tab_item_qq">\n        ').concat(this.getTextByKey("qqTabTitle"),'\n        </div>\n      </div>\n      <div class="QQMailSdkTool_login_loginBox_body">\n        <div class="QQMailSdkTool_login_loginBox_wx" id="QQMailSdkTool_login_loginBox_wx">\n        <iframe id="iframe_wx" frameborder="no" scrolling="no" src="').concat(this.wxSrcURL,'" class="QQMailSdkTool_login_loginBox_wx_iframe"></iframe>\n        <div style="z-index: 99; top: 275px; position: absolute; width: 100%; text-align: center; ').concat(this.initParams.scene===t.verify?"":"display:none;",'"> ').concat(this.initParams.scene===t.verify?'\n          <span class="uin">'.concat((null===(n=this.initParams.oatuhOptions)||void 0===n?void 0:n.email)||"","</span>\n        "):"",'\n        </div>\n        </div>\n        <div class="QQMailSdkTool_login_loginBox_qq" id="QQMailSdkTool_login_loginBox_qq" style="z-index: 10; left: 0px; right: 0px;">\n        <iframe frameborder="no" scrolling="no" src="').concat(this.connectURL,'" class="QQMailSdkTool_login_loginBox_qq_iframe"></iframe>\n        </div>\n      <div class="QQMailSdkTool_login_loginBox_wx_state" style="z-index: 99; top: 442px; ').concat(this.initParams.scene===t.verify?"display:none;":"",'">\n      ').concat(this.initParams.scene===t.verify?'\n        <span class="uin">'.concat((null===(i=this.initParams.oatuhOptions)||void 0===i?void 0:i.email)||"","</span>\n      "):'\n        <p style="color: rgb(46, 48, 51);">\n          <input type="checkbox" id="QQMailSdkTool_auto_login" />\n          <label for="QQMailSdkTool_auto_login">'.concat(this.getTextByKey("autoLoginButton"),'</label>\n          <img id="QQMailSdkTool_auto_login_notice" src="https://rescdn.qqmail.com/qqmail/images/notice.png" alt="" style="width: 13px; margin-left: 2px; margin-top: 5px; vertical-align: top;" />\n          <img id="QQMailSdkTool_auto_login_hover" src=').concat(window.isEnVer?"https://rescdn.qqmail.com/qqmail/images/hover_en_new2.png":"https://rescdn.qqmail.com/qqmail/images/hover_cn_new2.png",' alt="" class="QQMailSdkTool_login_hover_text" style="display: none;" />\n        </p>\n      '),"\n      </div>\n    </div>\n  </div>\n    ")},e.prototype.bindingEvent=function(){var n=document.getElementById("QQMailSdkTool_login_loginBox_tab_item_qq");if(n.addEventListener("click",(function(){var t=document.getElementById("QQMailSdkTool_login_loginBox_qq"),i=document.getElementById("QQMailSdkTool_login_loginBox_tab_item_wx");t.style.left="0",t.style.right="0",n.classList.add("QQMailSdkTool_login_loginBox_tab_item_Active"),i.classList.remove("QQMailSdkTool_login_loginBox_tab_item_Active")})),document.getElementById("QQMailSdkTool_login_loginBox_tab_item_wx").addEventListener("click",(function(){var t=document.getElementById("QQMailSdkTool_login_loginBox_qq"),i=document.getElementById("QQMailSdkTool_login_loginBox_tab_item_wx");t.style.left="-100%",t.style.right="auto",n.classList.remove("QQMailSdkTool_login_loginBox_tab_item_Active"),i.classList.add("QQMailSdkTool_login_loginBox_tab_item_Active")})),this.initParams.scene===t.login){var i=document.getElementById("QQMailSdkTool_auto_login");i.addEventListener("click",(function(){i.checked?f("xm_pstate",!0,1):x("xm_pstate")}));var e=document.getElementById("QQMailSdkTool_auto_login_notice"),o=document.getElementById("QQMailSdkTool_auto_login_hover");e.addEventListener("mouseover",(function(){o.style.display=""})),e.addEventListener("mouseout",(function(){o.style.display="none"}))}},e.prototype.initStatus=function(){if("wx"===this.initParams.defaultTab||"wx"===function(n){for(var t="".concat("qm_logintype","="),i=document.cookie.split(";"),e=0;e<i.length;e++){for(var o=i[e];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}()&&this.initParams.showLoginTab){var n=document.getElementById("QQMailSdkTool_login_loginBox_tab_item_qq"),t=document.getElementById("QQMailSdkTool_login_loginBox_qq"),i=document.getElementById("QQMailSdkTool_login_loginBox_tab_item_wx");t.style.left="-100%",t.style.right="auto",n.classList.remove("QQMailSdkTool_login_loginBox_tab_item_Active"),i.classList.add("QQMailSdkTool_login_loginBox_tab_item_Active")}},e.prototype.getTextByKey=function(n){if(this.textLabelMap[n])return this.textLabelMap[n];throw new Error("文本标签未定义")},e.prototype.generateQQContectUrl=function(){var n="https://wx.mail.qq.com/list/readtemplate?name=login_jump.html&";n=this.generateLoginJumpUrl(n),n+="".concat(d,"=").concat(this.initParams.scene,"&"),n+="login_type=qq",n=this.initParams.qqDirect_ReUri||this.generateOauthUrl(n);var t=encodeURIComponent(n),e="?";e+="response_type=code&",e+="client_id=".concat(this.initParams.qqconnect_appid||m,"&"),e+="scope=".concat(encodeURIComponent("get_user_info,get_app_friends"),"&"),this.initParams.layout===i.vertical&&(e+="theme=10&"),this.initParams.showQQFriend||(e+="auth_item_state=1&");var o=this.initParams.qqLoginOption;return o&&Object.keys(o).forEach((function(n){e+="".concat(n,"=").concat(o[n],"&")})),"https://graph.qq.com/oauth2.0/authorize"+(e+="redirect_uri=".concat(t))},e.prototype.generateWXSrcUrl=function(){var n="https://wx.mail.qq.com/list/readtemplate?name=login_jump.html&";n=this.generateLoginJumpUrl(n,"wx"),n+="".concat(d,"=").concat(this.initParams.scene,"&"),n+="login_type=wx&",n+="lt=wechat",n=this.initParams.wxDirect_ReUri||this.generateOauthUrl(n,"wx");var t=encodeURIComponent(n),i="?";i+="appid=".concat("wx5e893ac3cc590290","&"),i+="response_type=code&",i+="scope=snsapi_login&",i+="state=state&",i+="href=".concat(encodeURIComponent(this.initParams.wxStyleLink),"&");var e=this.initParams.wxLoginOptions;return e&&Object.keys(e).forEach((function(n){i+="".concat(n,"=").concat(e[n],"&")})),i+="redirect_uri=".concat(t),"https://open.weixin.qq.com/connect/qrconnect"+(i+="#wechat_redirect")},e.prototype.generateOauthUrl=function(n,i){if(void 0===i&&(i="qq"),this.initParams.scene===t.verify&&this.initParams.needQQMailOauth){var e="?";e+="client_id=".concat(this.initParams.clientId,"&"),e+="auth_type=".concat("qq"===i?l.connect_oauth:l.wx_oauth,"&"),e+="redirect_uri=".concat(encodeURIComponent(n),"&"),e+="response_type=code&";var o=this.initParams.oatuhOptions;return o&&Object.keys(o).forEach((function(n){e+="".concat(n,"=").concat(encodeURIComponent(o[n]),"&")})),this.initParams.qqconnect_appid&&"qq"===i&&(e+="qqconnect_appid=".concat(this.initParams.qqconnect_appid,"&")),"https://wx.mail.qq.com/oauth/auth"+(e+="state=state")}return n},e.prototype.generateLoginJumpUrl=function(n,i){var e,o=this;void 0===i&&(i="qq");var a="";return this.initParams.scene===t.verify?(a="".concat("return_uri","=").concat(encodeURIComponent("wx"===i?this.initParams.wxReturnURI:this.initParams.qqReturnURI),"&"),a+="method=".concat(this.initParams.method,"&"),a+="return_action=".concat(this.initParams.return_action,"&"),a+="return_origin=".concat(this.initParams.return_origin,"&")):a+=this.generateLoginParams(i),(null===(e=this.initParams.loginJumpOption)||void 0===e?void 0:e[i])&&Object.keys(this.initParams.loginJumpOption[i]).forEach((function(n){a+="".concat(n,"=").concat(o.initParams.loginJumpOption[i][n],"&")})),n+a},e.prototype.generateLoginParams=function(n){void 0===n&&(n="qq");var i="";return this.initParams.scene===t.login&&(this.initParams.return_target&&(i+="return_target=".concat(this.initParams.return_target,"&")),this.initParams.delegate_url&&(i+="delegate_url=".concat(encodeURIComponent(this.initParams.delegate_url),"&")),this.initParams.auth_type&&"qq"===n&&(i+="auth_type=".concat(this.initParams.auth_type,"&"))),i},e}();function f(n,t,i){var e;if(i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3),e="; expires=".concat(o.toUTCString())}else e="";document.cookie="".concat(n,"=").concat(t).concat(e,"; path=/; domain=.mail.qq.com")}function x(n){f(n,"",-1)}function y(n){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e=i.length,o=0;o<n;o++)t+=i.charAt(Math.floor(Math.random()*e));return t}return o}()}));